{"version":3,"sources":["services/userAPI.js","Components/SubmitButton/SubmitButton.jsx","Components/SignupForm/SignupForm.jsx","Components/Loading/Loading.jsx","pages/Login.jsx","Components/Navigator/Navigator.jsx","Components/Header/Header.jsx","Components/SearchForm/SearchForm.jsx","services/searchAlbumsAPI.js","Components/AlbumCard/AlbumCard.jsx","Components/Album/Album.jsx","pages/Search.jsx","services/musicsAPI.js","services/favoriteSongsAPI.js","Components/MusicCard/MusicCard.jsx","pages/Album.jsx","pages/Favorites.jsx","pages/Profile.jsx","pages/ProfileEdit.jsx","pages/NotFound.jsx","App.js","index.js"],"names":["USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","SubmitButton","this","props","testId","disabled","text","type","Component","SignupForm","validade","validate","bind","length","handleChange","handleSubmit","onSubmit","placeholder","id","onChange","value","Loading","Login","handleRender","state","loading","redirect","event","setState","target","preventDefault","a","to","Navigator","Header","fetchUser","userName","SearchForm","searchAlbumsAPI","artist","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","AlbumCard","album","cover","albumName","src","alt","Album","albumsFromAPI","search","albums","defaultProps","Search","lastSearch","searchAlbumsAPIs","getMusics","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","addSong","song","removeSong","filter","s","trackId","MusicCard","handleFavorite","recoverFavoriteSongs","checked","display","music","some","trackName","previewUrl","undefined","controls","kind","htmlFor","style","fetchMusics","musics","match","params","slice","Favorites","Profile","load","prevState","ProfileEdit","NotFound","App","basename","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b8a210f7.chunk.js","sourcesContent":["const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass SubmitButton extends Component {\n  render() {\n    const { testId, disabled, text } = this.props;\n    return (\n      <button disabled={ disabled } type=\"submit\" data-testid={ testId }>\n        {text}\n      </button>\n    );\n  }\n}\n\nSubmitButton.propTypes = {\n  testId: PropTypes.string.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  text: PropTypes.string.isRequired,\n};\n\nexport default SubmitButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SubmitButton from '../SubmitButton/SubmitButton';\n\nclass SignupForm extends Component {\n  constructor(props) {\n    super(props);\n    this.validade = this.validate.bind(this);\n  }\n\n  validate() {\n    const { name } = this.props;\n    const MINIMUN = 3;\n    return name.length < MINIMUN;\n  }\n\n  render() {\n    const { handleChange, handleSubmit, name } = this.props;\n    return (\n      <form onSubmit={ handleSubmit }>\n        <input\n          placeholder=\"Name\"\n          id=\"name\"\n          name=\"name\"\n          type=\"text\"\n          onChange={ handleChange }\n          value={ name }\n          data-testid=\"login-name-input\"\n        />\n        <SubmitButton\n          testId=\"login-submit-button\"\n          disabled={ this.validate() }\n          text=\"Entrar\"\n        />\n      </form>\n    );\n  }\n}\n\nSignupForm.propTypes = {\n  name: PropTypes.string.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nexport default SignupForm;\n","import React, { Component } from 'react';\n\nclass Loading extends Component {\n  render() {\n    return <span>Carregando...</span>;\n  }\n}\n\nexport default Loading;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport SignupForm from '../Components/SignupForm/SignupForm';\nimport Loading from '../Components/Loading/Loading';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleRender = this.handleRender.bind(this);\n    this.state = {\n      name: '',\n      loading: false,\n      redirect: false,\n    };\n  }\n\n  handleChange(event) {\n    this.setState({ name: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const { name } = this.state;\n    this.setState({ loading: true }, async () => {\n      await createUser({ name });\n      this.setState({ loading: false, redirect: true });\n    });\n  }\n\n  // Não parece ser um nome muito bom\n  handleRender() {\n    const { name, loading } = this.state;\n    if (loading) {\n      return <Loading />;\n    }\n    return (\n      <SignupForm\n        handleChange={ this.handleChange }\n        handleSubmit={ this.handleSubmit }\n        name={ name }\n      />\n    );\n  }\n\n  render() {\n    const { redirect } = this.state;\n    return (\n      <div data-testid=\"page-login\">\n        {this.handleRender()}\n        {redirect ? <Redirect to=\"/search\" /> : null}\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\n\nclass Navigator extends Component {\n  render() {\n    return (\n      <nav>\n        <Router>\n          <Link to=\"/search\" data-testid=\"link-to-search\">Search</Link>\n          <Link to=\"/favorites\" data-testid=\"link-to-favorites\">Favorites</Link>\n          <Link to=\"/profile\" data-testid=\"link-to-profile\">Profile</Link>\n        </Router>\n      </nav>\n    );\n  }\n}\n\nexport default Navigator;\n","import React, { Component } from 'react';\nimport { getUser } from '../../services/userAPI';\nimport Loading from '../Loading/Loading';\nimport Navigator from '../Navigator/Navigator';\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchUser = this.fetchUser.bind(this);\n    this.state = {\n      name: '',\n      loading: false,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchUser();\n  }\n\n  fetchUser() {\n    this.setState({ loading: true }, async () => {\n      const user = await getUser();\n      this.setState({ loading: false, name: user.name });\n    });\n  }\n\n  render() {\n    const { loading, name } = this.state;\n    const userName = <h1 data-testid=\"header-user-name\">{name}</h1>;\n    return (\n      <header data-testid=\"header-component\">\n        {loading ? <Loading /> : userName}\n        <Navigator />\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SubmitButton from '../SubmitButton/SubmitButton';\nimport Loading from '../Loading/Loading';\n\nclass SearchForm extends Component {\n  constructor(props) {\n    super(props);\n    this.validade = this.validate.bind(this);\n  }\n\n  validate() {\n    const { name } = this.props;\n    const MINIMUN = 2;\n    return name.length < MINIMUN;\n  }\n\n  render() {\n    const { handleChange, handleSubmit, name, loading } = this.props;\n    if (loading) {\n      return <Loading />;\n    }\n    return (\n      <form onSubmit={ handleSubmit }>\n        <input\n          placeholder=\"Artist name\"\n          id=\"artistName\"\n          name=\"artistName\"\n          type=\"text\"\n          onChange={ handleChange }\n          value={ name }\n          data-testid=\"search-artist-input\"\n        />\n        <SubmitButton\n          testId=\"search-artist-button\"\n          disabled={ this.validate() }\n          text=\"Pesquisar\"\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  name: PropTypes.string.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n};\n\nexport default SearchForm;\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nclass AlbumCard extends Component {\n  render() {\n    const {\n      album: {\n        artworkUrl100: cover,\n        collectionName: albumName,\n        artistName,\n        collectionId: id,\n      },\n    } = this.props;\n    return (\n      <div>\n        <Link to={ `/album/${id}` } data-testid={ `link-to-album-${id}` }>\n          <img src={ cover } alt=\"\" />\n        </Link>\n        <p>{albumName}</p>\n        <p>{artistName}</p>\n      </div>\n    );\n  }\n}\n\nAlbumCard.propTypes = {\n  album: PropTypes.shape({\n    artistId: PropTypes.number,\n    artistName: PropTypes.string,\n    collectionId: PropTypes.number,\n    collectionName: PropTypes.string,\n    collectionPrice: PropTypes.number,\n    artworkUrl100: PropTypes.string,\n    releaseDate: PropTypes.string,\n    trackCount: PropTypes.number,\n  }).isRequired,\n};\n\nexport default AlbumCard;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AlbumCard from '../AlbumCard/AlbumCard';\n\nclass Album extends Component {\n  render() {\n    const { albumsFromAPI, search } = this.props;\n    let response;\n    if (albumsFromAPI === null) {\n      return null;\n    }\n    if (albumsFromAPI.length === 0) {\n      response = <h3>Nenhum álbum foi encontrado</h3>;\n    }\n    if (albumsFromAPI.length > 0) {\n      const albums = albumsFromAPI.map((album) => (\n        <AlbumCard key={ album.collectionId } album={ album } />\n      ));\n      response = (\n        <>\n          <h3>{`Resultado de álbuns de: ${search}`}</h3>\n          {albums}\n        </>\n      );\n    }\n    return <div>{response}</div>;\n  }\n}\n\nAlbum.propTypes = {\n  albumsFromAPI: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.object),\n    PropTypes.arrayOf(),\n  ]),\n  search: PropTypes.string.isRequired,\n};\n\n// src: https://stackoverflow.com/a/50089401\nAlbum.defaultProps = {\n  albumsFromAPI: null,\n};\n\nexport default Album;\n","import React, { Component } from 'react';\nimport Header from '../Components/Header/Header';\nimport SearchForm from '../Components/SearchForm/SearchForm';\nimport searchAlbumsAPIs from '../services/searchAlbumsAPI';\nimport Album from '../Components/Album/Album';\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleRender = this.handleRender.bind(this);\n    this.state = {\n      name: '',\n      loading: false,\n      albumsFromAPI: null,\n      lastSearch: '',\n    };\n  }\n\n  handleChange(event) {\n    this.setState({ name: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const { name } = this.state;\n    this.setState({ loading: true, lastSearch: name }, async () => {\n      const response = await searchAlbumsAPIs(name);\n      this.setState({ loading: false, name: '', albumsFromAPI: response });\n    });\n  }\n\n  handleRender() {}\n\n  render() {\n    const { name, loading, albumsFromAPI, lastSearch } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        <SearchForm\n          handleChange={ this.handleChange }\n          handleSubmit={ this.handleSubmit }\n          name={ name }\n          loading={ loading }\n        />\n        <Album albumsFromAPI={ albumsFromAPI } search={ lastSearch } />\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","// Desenvolvido com a ajuda do Matheus Laurindo\n// PR: https://github.com/tryber/sd-014-b-project-trybetunes/pull/52\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  addSong,\n  getFavoriteSongs,\n  removeSong,\n} from '../../services/favoriteSongsAPI';\nimport Loading from '../Loading/Loading';\n\nclass MusicCard extends Component {\n  constructor(props) {\n    super(props);\n    this.handleFavorite = this.handleFavorite.bind(this);\n    this.recoverFavoriteSongs = this.recoverFavoriteSongs.bind(this);\n    this.state = {\n      checked: false,\n      display: 'inline',\n    };\n  }\n\n  componentDidMount() {\n    this.recoverFavoriteSongs();\n  }\n\n  async handleFavorite(event) {\n    const { checked } = event.target;\n    const { music } = this.props;\n    this.setState({ checked, display: 'none' });\n    if (checked) {\n      await addSong(music);\n    } else {\n      await removeSong(music);\n    }\n    this.setState({ display: 'inline' });\n  }\n\n  async recoverFavoriteSongs() {\n    const {\n      music: { trackId },\n    } = this.props;\n    const favoriteSongs = await getFavoriteSongs();\n    const checkFavoriteSong = favoriteSongs.some(\n      (music) => trackId === music.trackId,\n    );\n    if (checkFavoriteSong) {\n      this.setState({ checked: true });\n    }\n  }\n\n  render() {\n    const {\n      music: { trackName, trackId, previewUrl },\n    } = this.props;\n\n    const { checked, display } = this.state;\n\n    if (trackName === undefined) {\n      return null;\n    }\n\n    return (\n      <div>\n        <p>{trackName}</p>\n        <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n          <track kind=\"captions\" />\n          O seu navegador não suporta o elemento\n          <code>audio</code>\n          .\n        </audio>\n        <label htmlFor={ `${trackId}` } data-testid={ `checkbox-music-${trackId}` }>\n          <input\n            type=\"checkbox\"\n            id={ `${trackId}` }\n            name=\"checked\"\n            checked={ checked }\n            onChange={ this.handleFavorite }\n            style={ { display } }\n          />\n          {display === 'none' ? <Loading /> : null}\n        </label>\n      </div>\n    );\n  }\n}\n\nMusicCard.propTypes = {\n  music: PropTypes.shape({\n    trackName: PropTypes.string,\n    trackId: PropTypes.number,\n    previewUrl: PropTypes.string,\n  }).isRequired,\n};\n\nexport default MusicCard;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../Components/Header/Header';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from '../Components/MusicCard/MusicCard';\n\nclass Album extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchMusics = this.fetchMusics.bind(this);\n    this.state = {\n      musics: [],\n      artistName: '',\n      collectionName: '',\n      artworkUrl100: '',\n    };\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params: { id },\n      },\n    } = this.props;\n    this.fetchMusics(id);\n  }\n\n  async fetchMusics(id) {\n    const musics = await getMusics(id);\n    this.setState({\n      musics,\n      artistName: musics[0].artistName,\n      collectionName: musics[0].collectionName,\n      artworkUrl100: musics[0].artworkUrl100,\n    });\n  }\n\n  render() {\n    const {\n      artistName,\n      collectionName,\n      artworkUrl100: cover,\n      musics,\n    } = this.state;\n    return (\n      <div data-testid=\"page-album\">\n        <Header />\n        <div>\n          <img src={ cover } alt=\"\" />\n          <h2 data-testid=\"artist-name\">{artistName}</h2>\n          <h3 data-testid=\"album-name\">{collectionName}</h3>\n          {musics.slice(1).map((music) => (\n            <MusicCard key={ music.trackId } music={ music } />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.shape({ params: PropTypes.shape({ id: PropTypes.string }) })\n    .isRequired,\n};\n\nexport default Album;\n","import React, { Component } from 'react';\nimport Header from '../Components/Header/Header';\n\nclass Favorites extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n      </div>\n    );\n  }\n}\n\nexport default Favorites;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../Components/Header/Header';\nimport Loading from '../Components/Loading/Loading';\nimport { getUser } from '../services/userAPI';\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchUser = this.fetchUser.bind(this);\n    this.state = {\n      load: false,\n      user: {},\n    };\n  }\n\n  componentDidMount() {\n    this.fetchUser();\n  }\n\n  async fetchUser() {\n    this.setState((prevState) => ({ load: !prevState }));\n    const user = await getUser();\n    this.setState((prevState) => ({ load: !prevState, user }));\n  }\n\n  render() {\n    const {\n      load,\n      user: { name, email, image, description },\n    } = this.state;\n    if (load) {\n      return <Loading />;\n    }\n    return (\n      <div data-testid=\"page-profile\">\n        <Header />\n        <img\n          src={ image }\n          alt=\"perfil\"\n          data-testid=\"profile-image\"\n        />\n        <p>{name}</p>\n        <p>{email}</p>\n        <p>{description}</p>\n        <Link to=\"/profile/edit\">Editar perfil</Link>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Header from '../Components/Header/Header';\n\nclass ProfileEdit extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n      </div>\n    );\n  }\n}\n\nexport default ProfileEdit;\n","import React, { Component } from 'react';\n\nclass NotFound extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-not-found\" />\n    );\n  }\n}\n\nexport default NotFound;\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Search from './pages/Search';\nimport Album from './pages/Album';\nimport Favorites from './pages/Favorites';\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\nimport NotFound from './pages/NotFound';\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <Router basename=\"/trybe-project-trybetunes\">\n          <Switch>\n            <Route path=\"/Profile/edit\" component={ ProfileEdit } />\n            <Route path=\"/Profile\" component={ Profile } />\n            <Route path=\"/favorites\" component={ Favorites } />\n            <Route path=\"/album/:id\" component={ Album } />\n            <Route path=\"/search\" component={ Search } />\n            <Route exact path=\"/\" component={ Login } />\n            <Route path=\"*\" component={ NotFound } />\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}